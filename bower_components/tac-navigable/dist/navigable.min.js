(function(){"use strict";angular.module("module.tac.navigable",[]).factory("tac.navigable.common",function(){var a;return a={remove:function(a,b){var c;return c=a.indexOf(b),c>-1&&a.splice(c,1)},eval_all:function(a){return function(b){return function(){var c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)c=a[d],f.push(c.apply(b||c,arguments));return f}}},appender:function(b){return function(c){return b.push(c),function(){return a.remove(b,c)}}},navigable:function(b){var c,d,e;return e=[],c=[],d=[],b.on_update=a.appender(e),b.on_active=a.appender(c),b.on_inactive=a.appender(d),b.update=a.eval_all(e)(b),b.set_active=function(b){var e;return this.active!==b&&(this.active=b,e=b?c:d,a.eval_all(e)(this)()),this.active},b.root=function(){return this.parent.root()},b.pull_out=function(){return this.unbind_destroy(),this.parent.remove(this)},b.integrate=function(){return this.parent.add(this),this.remove_on_destroy_flag?this.remove_on_destroy():void 0},b.make_active=function(){return this.parent.set_current_component(this),this.parent.activate(!0,!0)},b.become_current=function(){return this.parent.set_current_in_background(this)},b.use_index=function(a){var c,d;return c=b.identifier,d=function(a){return b.priority=a,b.identifier=c+" #"+a},a.$watch("$index",function(a){return a!==b.priority?(d(a),b.parent.sort_next_time()):void 0}),d(a.$index)},b}}}),function(a){var b,c,d;b=window.MutationObserver||window.WebKitMutationObserver,d=function(){var a,b;if(b=document.createElement("p"),a=!1,b.addEventListener)b.addEventListener("DOMAttrModified",function(){a=!0},!1);else{if(!b.attachEvent)return!1;b.attachEvent("onDOMAttrModified",function(){a=!0})}return b.setAttribute("id","target"),a},c=function(b,c){var d,e;return b?(d=this.data("attr-old-value"),c.attributeName.indexOf("style")>=0?(d.style||(d.style={}),e=c.attributeName.split("."),c.attributeName=e[0],c.oldValue=d.style[e[1]],c.newValue=e[1]+":"+this.prop("style")[a.camelCase(e[1])],d.style[e[1]]=c.newValue):(c.oldValue=d[c.attributeName],c.newValue=this.attr(c.attributeName),d[c.attributeName]=c.newValue),this.data("attr-old-value",d)):void 0},a.fn.attrchange=function(e,f){var g,h,i;return"object"==typeof e?(g={trackValues:!1,callback:a.noop},"function"==typeof e?g.callback=e:a.extend(g,e),g.trackValues&&this.each(function(b,c){var d,e,f,g;for(e={},d=void 0,b=0,f=c.attributes,g=f.length;g>b;)d=f.item(b),e[d.nodeName]=d.value,b++;return a(this).data("attr-old-value",e)}),b?(h={subtree:!1,attributes:!0,attributeOldValue:g.trackValues},i=new b(function(b){return b.forEach(function(b){var c;return c=b.target,g.trackValues&&(b.newValue=a(c).attr(b.attributeName)),"connected"===a(c).data("attrchange-status")?g.callback.call(c,b):void 0})}),this.data("attrchange-method","Mutation Observer").data("attrchange-status","connected").data("attrchange-obs",i).each(function(){return i.observe(this,h)})):d()?this.data("attrchange-method","DOMAttrModified").data("attrchange-status","connected").on("DOMAttrModified",function(b){return b.originalEvent&&(b=b.originalEvent),b.attributeName=b.attrName,b.oldValue=b.prevValue,"connected"===a(this).data("attrchange-status")?g.callback.call(this,b):void 0}):"onpropertychange"in document.body?this.data("attrchange-method","propertychange").data("attrchange-status","connected").on("propertychange",function(b){return b.attributeName=window.event.propertyName,c.call(a(this),g.trackValues,b),"connected"===a(this).data("attrchange-status")?g.callback.call(this,b):void 0}):this):"string"==typeof e&&a.fn.attrchange.hasOwnProperty("extensions")&&a.fn.attrchange.extensions.hasOwnProperty(e)?a.fn.attrchange.extensions[e].call(this,f):void 0}}(window.jQuery)}).call(this),function(){"use strict";angular.module("module.tac.navigable").factory("tac.navigable.component",["$rootScope","tac.navigable.common","$timeout",function(a,b,c){var d;return d=function(){return{up:function(){return!1},down:function(){return!1},left:function(){return!1},right:function(){return!1},enter:function(){return!1}}},{basic:function(e){var f,g,h;return f=[],g=!1,h=!1,b.navigable({identifier:e,on_change:b.appender(f),after_change:b.eval_all(f)(this),mark_removed:function(){var a,b,c,d,e;for(g=!0,d=this.components,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.mark_removed());return e},bind_on_destroy:function(a){return a.unbind_destroy=a.scope.$on("$destroy",function(){return a.unbind_destroy(),g?void 0:(a.mark_removed(),a.pull_out())})},sort_components:function(){return this.components.sort(function(a,b){return a.priority>b.priority?1:b.priority>a.priority?-1:0})},sort_next_time:function(){var a,b;return h?!0:(b=this,h=!0,a=function(){return b.sort_components(),h=!1},c(a,1))},unbind_destroy:function(){},remove_on_destroy:function(){return this.remove_on_destroy_flag=!0,this.scope&&this.bind_on_destroy(this),this},set_priority:function(a){return this.priority=a,this},safe_apply:function(b){var c;return c=a.$$phase,"$apply"!==c&&"$digest"!==c?b.$apply():void 0},apply:function(){},remove_child_components:function(){return this.components.length=0,this.current_component=null,this},bind_to:function(a,b){var c;return c=this,this.scope=a,b||a.$parent.add_navigable_component(this),this.apply=function(){return this.safe_apply(a)},a.add_navigable_component=function(a,b){return c.add(a,b)},this.remove_on_destroy_flag&&this.bind_on_destroy(this),this},set_current_in_background:function(a){return this.current_component=a,this.after_change()},set_current_component:function(a,b){var c,d;return d=this.current_component,c=a.activate(b),c&&(this.current_component=a,d&&d!==a&&d.deactivate()),c},activate_down_to_up:function(a,b){var c;return this.set_active(!0),c=this.current_component!==a,c&&this.set_current_component(a),b?c||this.parent.current_component!==this?this.parent.activate_down_to_up(this,!0):this.apply():void 0},set_first_child:function(){var a,b;for(b=!1,a=0;!b&&a<this.components.length;)b=this.set_current_component(this.components[a]),a+=1;return b},set_last_child:function(){var a,b;for(b=!1,a=this.components.length-1;!b&&a>=0;)b=this.set_current_component(this.components[a]),a-=1;return b},set_previous_child:function(){return this.current_component&&this.set_current_component(this.current_component)},set_some_child:function(){return this.set_previous_child()||this.set_first_child()},activate:function(a,b){var c;return this.active||(b?this.set_active(!0):(c=this.set_some_child(),this.set_active(c))),a&&this.parent.activate_down_to_up(this,!0),this.active},deactivate:function(a){return this.set_active(!1),this.current_component&&this.current_component.deactivate(),a?this.parent.deactivate(!0):void 0},add:function(a,b){var c,d,e,f,g,h;if(this.components.indexOf(a)>-1)return console.error("trying to add same element twice ["+a.identifier+"]");for(a.parent=this,"undefined"==typeof a.priority&&("undefined"!=typeof b?a.priority=b:(a.priority=this.components.length,this.components.length>0&&(d=this.components[this.components.length-1],d.priority>a.priority&&(a.priority=d.priority+1)))),e=0,h=this.components,f=0,g=h.length;g>f;f++)c=h[f],c.priority<a.priority&&(e+=1);return this.components.splice(e,0,a)},resize:function(a){return this.parent.resize(a)},remove:function(a){return b.remove(this.components,a),this.current_component===a?(this.current_component=null,this.active&&this.deactivate(!0)):void 0},handle_on_selected:function(a){return this.selected&&this.selected.handle(a)},handle_inner:function(a){var b,c;return b=this.handlers[a.key],c=b&&b(a,this),c&&this.after_change(),c},handle_by_child:function(a){return this.current_component&&this.current_component.handle(a)},handle:function(a){return this.handle_by_child(a)||this.handle_inner(a)},current_index:function(){return this.components.indexOf(this.current_component)},last_index:function(){return this.components.length-1},initialize:function(){return this.components=[],this.handlers=d(),this.on_update(function(a){var b,c,d,e,f;if(a=a||{},a.percolate_current&&this.current_component&&this.current_component.update(a),a.percolate_children){for(e=this.components,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b.update(a));return f}}),this},and_extend:function(a){return this.handlers=angular.extend(this.handlers,a),this},go_forward:function(a){var b,c,d;return b=this.current_index(),c=this.last_index(),b>-1&&c>=b+a?(d=this.set_current_component(this.components[b+a]),this.apply(),d):!1},go_back:function(a){var b,c;return b=this.current_index(),b>-1&&b-a>=0?(c=this.set_current_component(this.components[b-a]),this.apply(),c):!1},previous_activable:function(a){var b,c,d;for(d=this.current_index()-1,c=0,b=!1;!b&&d>=c;)b=this.set_current_component(this.components[d]),d-=1;return b&&this.apply(),b},next_activable:function(){var a,b,c;for(c=this.current_index()+1,b=this.last_index(),a=!1;!a&&b>=c;)a=this.set_current_component(this.components[c]),c+=1;return a&&this.apply(),a}})},horizontal:function(a){var b;return b=this.basic(a).initialize().and_extend({left:function(a,b){return b.previous_activable()},right:function(a,b){return b.next_activable()}}),b.horizontal=!0,b},vertical:function(a){var b;return b=this.basic(a).initialize().and_extend({up:function(a,b){return b.previous_activable()},down:function(a,b){return b.next_activable()}}),b.vertical=!0,b},multiline:function(a,b){var c;return"number"!=typeof b&&(b=parseInt(b||0)),c=this.basic(a).initialize().and_extend({left:function(a,c){return c.current_index()%b!==0?c.previous_activable():!1},right:function(a,c){return(c.current_index()+1)%b!==0?c.next_activable():!1},up:function(a,c){return c.go_back(b)},down:function(a,c){return c.go_forward(b)}}),c.vertical=c.multiline=c.horizontal=!0,c}}}])}.call(this),function(){"use strict";angular.module("module.tac.navigable").service("tac.navigable.fail",[function(){var a;return a=[],{on_fail:function(b){return a.push(b)},process:function(){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(b());return e}}}])}.call(this),function(){"use strict";angular.module("module.tac.navigable").factory("tac.navigable.leaf",["$injector","$interpolate","tac.keys","tac.navigable.common",function(a,b,c,d){var e,f,g,h,i;return i=["text","search","password"],h=["TEXTAREA","INPUT"],e=function(a){return 1===a.nodeType&&_.contains(h,a.nodeName)&&(!a.type||_.contains(i,a.type))},g=function(a,b){var d;return d=b[0],e(d)?(a.on_update(function(){return d.focus()}),a.on_active(function(){return d.focus()}),a.on_inactive(function(){return d.blur()}),a.handlers.back_space=function(){return c.allow_default_once()}):void 0},f=function(b,c,d){return c.openEditor?b.click=function(){var e,f,g;return f=c.openEditor,g=a.get(f),e=g.edit(d.val()),e.done(function(a){return d.val(a),d.trigger("input")}),e.exit(function(){return b.activate()})}:void 0},function(a,c,e){var h,i;return i=!1,h=d.navigable({identifier:b(e.navigableLeaf)(a),handlers:{enter:function(){return h.click(),!0}},handle:function(a){var b;return b=this.handlers[a.key],b&&b(a)},root:function(){return this.parent.root()},resize:function(a){return this.parent.resize(a)},activate:function(a){return a&&this.parent.activate_down_to_up(this,!0),this.set_active(!0)},deactivate:function(){return this.set_active(!1)},click:function(){return c.click(),!0},unbind_destroy:function(){},remove_on_destroy:function(){return this.remove_on_destroy_flag=!0,this.unbind_destroy=a.$on("$destroy",function(){return h.unbind_destroy(),!i&&h.pull_out()})},mark_removed:function(){return i=!0}}),function(){var b;return b=e.navigableLeafClass||"hover",h.on_active(function(){return c.addClass(b)}),h.on_inactive(function(){return c.removeClass(b)}),g(h,c),f(h,e,c),"string"==typeof e.navigablePriority?h.priority=parseInt(e.navigablePriority):"number"==typeof a.$index?h.use_index(a):void 0}(),h}}]).controller("tac.navigable.leaf",["$scope","$element","$attrs","tac.navigable.leaf","tac.navigable.options",function(a,b,c,d,e){var f;return f=d(a,b,c),a.$parent.add_navigable_component(f),a.navigable=f,e.autoremove?a.navigable.remove_on_destroy():void 0}]).directive("navigableLeaf",[function(){return{scope:!0,restrict:"A",priority:501,controller:"tac.navigable.leaf"}}])}.call(this),function(){angular.module("module.tac.navigable").service("tac.navigable.modal",["$modal","$controller","$timeout","tac.keys","tac.navigable.root",function(a,b,c,d,e){return{open:function(f){var g,h,i,j,k;if(d.create_level(),k=f.controller,h=["$scope","$modalInstance"],k)for(i in f.resolve)h.push(i);return g=e("modal root"),h.push(function(a,c){var e,f,j,l,m;if(g.bind_to(a),d.subscribe(g),k){for(j={},e=l=0,m=arguments.length;m>l;e=++l)f=arguments[e],i=h[e],j[i]=arguments[e];return b(k,j)}}),f.controller=h,j=a.open(f),j.result["finally"](function(){return d.unsubscribe(g),d.previous_level()}),j.opened.then(function(){return c(function(){return g.update({percolate_children:!0})},f.time||100)}),j}}}])}.call(this),function(){angular.module("module.tac.navigable").service("tac.navigable.options",[function(){return{autoremove:!0}}]).directive("navigableDestroy",["tac.navigable.options",function(a){return{scope:!0,restrict:"A",link:function(b,c,d){return a.autoremove?void 0:$scope.navigable.remove_on_destroy()}}}]).directive("navigableLeafActiveOnce",["$parse",function(a){return{scope:!0,restrict:"A",link:function(b,c,d){var e,f;return e=d.navigableLeafActiveOnce,e&&a(e)(b)&&(f=b.navigable.root(),d.navigableLeafActiveForce||!f.active)?b.navigable.make_active():void 0}}}]).directive("navigableLeafActive",["$parse",function(a){return{scope:!0,restrict:"A",link:function(a,b,c){return a.$watch(c.navigableLeafActive,function(b){var d;return b&&(d=a.navigable.root(),c.navigableLeafActiveForce||!d.active)?a.navigable.make_active():void 0})}}}]).directive("navigableCurrent",["$parse",function(a){return{scope:!0,restrict:"A",link:function(b,c,d){var e;return e=d.navigableCurrent,e&&a(e)(b)?b.navigable.become_current():void 0}}}]).directive("navigableModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e;return e=a(d.navigableModel)(b),e&&(e.navigable=b.navigable)}}}]).directive("navigableScrollFrom",["tac.navigable.scroll",function(a){return{scope:!0,restrict:"A",link:function(b,c,d){return a.register_child(b.navigable,d.navigableScrollFrom,c)}}}]).directive("navigableScrollFrame",["tac.navigable.scroll",function(a){return{scope:!0,restrict:"A",link:function(b,c,d){return a.register_parent(b.navigable,d.navigableScrollFrame,c)}}}]).directive("navigablePullOut",["tac.navigable.scroll",function(a){return{scope:!0,restrict:"A",multiElement:!0,link:function(a,b,c){var d;return d=!1,a.$watch(c.navigablePullOut,function(b){return b&&!d&&(d=!0,a.navigable.pull_out()),!b&&d?(d=!1,a.navigable.integrate()):void 0})}}}]).directive("navigableNotifyCreation",[function(){return{scope:!0,restrict:"A",multiElement:!0,link:function(a,b,c){return a.child_added(a.navigable)}}}]).directive("navigableOnActive",["$parse",function(a){return{scope:!0,restrict:"A",multiElement:!0,link:function(b,c,d){return b.navigable.on_active(function(){return a(d.navigableOnActive)(b)})}}}]).directive("navigableResizable",["$timeout","tac.navigable.scroll",function(a,b){var c,d,e;return c=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(f=[],a="webkit Webkit Moz O ms MS Khtml".split(" "),d="webkit o".split(" "),c=["Animation","Transition"],g=0,j=c.length;j>g;g++){for(b=c[g],f.push(b.toLowerCase()+"end"),h=0,k=a.length;k>h;h++)e=a[h],f.push(e+b+"End");for(i=0,l=d.length;l>i;i++)e=d[i],f.push(e.toLowerCase()+b.toLowerCase()+"end")}return f}(),d={key:"horizontal"},e={key:"vertical"},{scope:!0,restrict:"A",multiElement:!0,link:function(a,b,f){return b.on(c.join(" "),function(c){var f;return c.target===b[0]&&(f=c.originalEvent.propertyName,_.contains(["width","max-width"],f)&&a.navigable.resize(d),_.contains(["height","max-height"],f))?a.navigable.resize(e):void 0}),b.attrchange({trackValues:!0,callback:function(b){return"class"===b.attributeName?a.navigable.resize():void 0}})}}}])}.call(this),function(){"use strict";angular.module("module.tac.navigable").factory("tac.navigable.default.navigation",[function(){var a;return a={up:"down",down:"up",left:"right",right:"left"},{process:function(b,c){return b.set_some_child=function(){var b,d,e,f,g;e=this.root().last_action,f=a[e],g=c.from;for(d in g)if(b=g[d],f===d)return this["set_"+b+"_child"]();return c["default"]?this["set_"+c["default"]+"_child"]():this.set_first_child()}}}}]).factory("tac.navigable.panel",["$parse","tac.navigable.options",function(a,b){return function(a,c,d){return"string"==typeof d.navigablePriority?a.priority=d.navigablePriority:"number"==typeof c.$index&&a.use_index(c),a.bind_to(c),b.autoremove?a.remove_on_destroy():void 0}}]).controller("tac.navigable.vertical",["$scope","$element","$attrs","tac.navigable.component","tac.navigable.panel",function(a,b,c,d,e){var f;return f=c.navigableVertical,a.navigable=e(d.vertical(f),a,c)}]).controller("tac.navigable.horizontal",["$scope","$element","$attrs","tac.navigable.component","tac.navigable.panel",function(a,b,c,d,e){var f;return f=c.navigableHorizontal,a.navigable=e(d.horizontal(f),a,c)}]).controller("tac.navigable.multiline",["$scope","$element","$attrs","tac.navigable.component","tac.navigable.panel",function(a,b,c,d,e){var f,g;return f=c.navigableMultiline,g=c.navigablePerRow,a.navigable=e(d.multiline(f,g),a,c)}]).controller("tac.navigable.defaults",["$scope","$attrs","tac.navigable.default.navigation",function(a,b,c){var d;return d=JSON.parse(b.navigableDefaults.replace(/'/g,'"')),c.process(a.navigable,d)}]).directive("navigableHorizontal",[function(){return{scope:!0,restrict:"A",priority:501,controller:"tac.navigable.horizontal"}}]).directive("navigableVertical",[function(){return{scope:!0,restrict:"A",priority:501,controller:"tac.navigable.vertical"}}]).directive("navigableMultiline",[function(){return{scope:!0,restrict:"A",priority:501,controller:"tac.navigable.multiline"}}]).directive("navigableDefaults",[function(){return{scope:!0,restrict:"A",priority:500,controller:"tac.navigable.defaults"}}])}.call(this),function(){"use strict";angular.module("module.tac.navigable").factory("tac.navigable.root",["tac.navigable.component","tac.navigable.fail",function(a,b){return function(c){var d;return d=a.basic(c).initialize(),d.fail=function(){return b.process(),!1},d.handle_inner=function(a){return!this.active&&!_.isEmpty(this.components)&&this.set_child_active()||this.fail()},d.root=function(){return this},d.dump=function(){var a,b,c;return a=function(a,b){return a+" "},c=function(b){var c;return _.reduce(function(){c=[];for(var a=1;b>=1?b>=a:a>=b;b>=1?a++:a--)c.push(a);return c}.apply(this),a,"")},b=function(a){return function(d){var e,f;return f="undefined"==typeof d.priority?"":d.priority,e=d.active?" <active>":"",console.log(c(a)+d.identifier+" ["+f+"]"+e),_.each(d.components,b(a+2))}},b(2)(this)},d.handle=function(a){return this.last_action=a.key,this.handle_by_child(a)||this.handle_inner(a)},d.set_child_active=function(){var a;for(a=0;!this.active&&a<this.components.length;)this.set_active(this.set_current_component(this.components[a])),a+=1;return this.active&&this.current_component.apply(),this.active},d.activate_down_to_up=function(a,b){return this.set_active(!0),this.set_current_component(a),b?this.apply():void 0},d.deactivate=function(){return this.set_active(!1),this.current_component?this.current_component.deactivate():void 0},d.bind_to=function(a){var b;return b=this,a.add_navigable_component=function(a,c){return b.add(a,c)},this},d.resize=function(){},d}}]).controller("tac.navigable.root",["$rootScope","$scope","$element","$attrs","tac.keys","tac.navigable.root",function(a,b,c,d,e,f){var g,h,i;return h=d.navigableRoot||"root",g=f(h),e.create_level(),g.bind_to(b),e.subscribe(g),i=b.$on("$destroy",function(){return i(),e.unsubscribe(g),e.previous_level()})}]).directive("navigableRoot",[function(){return{scope:!0,restrict:"A",priority:501,controller:"tac.navigable.root"}}])}.call(this),function(){angular.module("module.tac.navigable").service("tac.navigable.scroll",["$timeout",function(a){var b,c,d,e,f,g;return d=parseInt(1e3/60),g=4,f=/\px$/,b=function(a,b){return"string"!=typeof a||""===a?(console.log("scroll parent id must be a non empty string"),console.log("element:"),console.log(b),!1):!0},e=function(a){return f.test(a)?parseFloat(a.replace(f,"")):(console.log("must use margin in pixels for improve auto-scroll"),0)},c=function(a){return{top:e(a.css("margin-top")),bottom:e(a.css("margin-bottom")),left:e(a.css("margin-left")),right:e(a.css("margin-right"))}},{register_parent:function(a,c,d){return b(c,d)?a.scroll={identifier:c,jqelement:d}:void 0},register_child:function(e,f,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(b(f,l)){for(o=e.parent,v=e.root();o.parent&&!o.scroll||!o.scroll.identifier===f;)o=o.parent;return o===v?(console.log("cannot obtain scroll frame for id "+f),console.log("element:"),console.log(l),!1):(l=h[0],p=o.scroll.jqelement,w=p[0],s=void 0,r=c(h),z=function(){var a,b,c,d;if(o.vertical){if(d=w.scrollTop,c=d+w.offsetHeight,b=l.offsetTop-w.offsetTop-r.top,a=b+l.offsetHeight+r.top+r.bottom,d>b)return b;if(a>c)return a-w.offsetHeight}return null},y=function(){var a,b,c,d;if(o.horizontal){if(c=w.scrollLeft,d=c+w.offsetWidth,a=l.offsetLeft-w.offsetLeft-r.left,b=a+l.offsetWidth+r.left+r.rigth,c>a)return a;if(b>d)return b-w.offsetWidth}return null},k={cancel:!1},j=function(){return k.cancel=!0},i=function(){return k={cancel:!1}},m=function(){var a,b,c;return a=!1,c=z(),null!==c&&(a=!0,p.scrollTop(c)),b=y(),null!==b&&(a=!0,p.scrollLeft(b)),a},n=function(a,b){return function(){if(!b.cancel){if(m())return p.stop(),t(0,b);if(a)return t(a-1,b)}}},t=function(b,c){return a(n(b,c),d)},x=function(){return i(),t(g,k)},q=function(){var a,b,c;return s={},a=!1,c=z(),null!==c&&(a=!0,s.scrollTop=c),b=y(),null!==b&&(a=!0,s.scrollLeft=b),a?(j(),p.stop().animate(s,"500")):void 0},e.resize=function(a){return a&&o[a.key]?q():(e.parent.resize(a),x())},u=function(){return e.parent.current_component===e?q():void 0},e.on_update(u),e.on_active(q),e.on_inactive(j),u())}}}}])}.call(this);